{% extends 'library/base.html' %}

{% block title %}Genres by Author{% endblock %}

{% block content %}
    <h2>Find Genres by Author</h2>

    <!-- Форма для вибору автора -->
    <form method="get">
        <label for="author_name">Select Author:</label>
        <select id="author_name" name="author_name">
            <option value="">-- Choose an author --</option>
            {% for author in authors %}
                <option value="{{ author.id }}" {% if author.id == selected_author_id %}selected{% endif %}>{{ author.first_name }} {{ author.last_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">Search</button>
    </form>

    <h3>Genres:</h3>
    <ul>
        {% for genre in genres %}
            <li>{{ genre.name }}</li>
        {% empty %}
            <li>No genres found for this author.</li>
        {% endfor %}
    </ul>
{% endblock %}
